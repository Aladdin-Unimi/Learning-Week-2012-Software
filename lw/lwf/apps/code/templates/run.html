{% extends "base.html" %}
{% block content %}

	{% for lib in app.lib %}
		<script src="/assets/js/{{ lib }}" type="text/javascript"></script>
    {% endfor %}
	{% for code in app.code %}
    	<script src="/code/load/{{ code }}" type="text/javascript"></script>
    {% endfor %}
	{% if 'map' in app.output %}
		<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
	{% endif %}
	
	<div class="well">
		<button id="run" class="btn btn-success">Esegui l'applicazione</button>
	</div>

	{% if app.input %}
	<h1 style="margin-bottom: 20px;">Input</h1>
	<form class="well form-horizontal" method="post" action="#" onsubmit="return false;" >
		<fieldset id="input">
			{% for input in app.input %}
			<div class="control-group">
				<label class="control-label" for="{{input.name}}">{{input.desc}}</label>
				<div class="controls">
					<input type="text" class="input-xlarge" id="{{input.name}}" data-type="{{input.type}}">
					{% if input.hint %}<p class="help-block">{{input.hint}}</p>{% endif %}
				</div>
			</div>
			{% endfor %}
		</fieldset>
	</form>
	{% endif %}
	
	{% if 'text' in app.output %}
		<h1 style="margin-bottom: 20px;">Output</h1>
		<div class="well" id="output"></div>
	{% endif %}
	
	{% if 'map' in app.output %}
		<h1 style="margin-bottom: 20px;">Mappa</h1>
		<div id="map" style="height: 400px; width: 100%;"></div>
	{% endif %}
	
	<script type="text/javascript">
		var path = "{{ path }}";
		_init();
		$( "#run" ).click( _main );
	</script>

{% endblock %}